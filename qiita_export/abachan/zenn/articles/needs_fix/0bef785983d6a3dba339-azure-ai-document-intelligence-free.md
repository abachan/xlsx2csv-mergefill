---
title: "Azure AI Document Intelligence Freeプラン利用時の注意点"
emoji: "📝"
type: "tech"
topics:[azure,ai,documentintelligence]
published: false
---

<!-- TODO: 以下を調整 -->
<!-- - Qiita画像ホスティング -->
<!-- - トピック数/形式の調整 -->
<!--   * そのままでも表示可。GitHub連携で運用する場合は画像を保存して相対パスへ書換推奨 -->
<!--   * Zennのtopicsは最大5・半角英数とハイフンのみ。候補: azure, ai, documentintelligence -->
## はじめに
デジタルトランスフォーメーション（DX）が加速する現代において、ドキュメント処理の自動化は多くの企業にとって重要な課題です。特に、請求書や契約書といった非構造化データからの情報抽出は、生産性向上の鍵を握ります。

この課題に対する有力な解決策の一つとして、Microsoftが提供する「**Azure AI Document Intelligence**」が注目を集めています。その高い性能を確かめるべく、私自身も検証を行いました。

本記事では、その検証過程で判明した**Freeプラン利用時における重要な制限事項**と、その解決策について詳しく解説します。これから本サービスの導入を検討されている方々にとって、有益な情報となれば幸いです。

## Azure AI Document Intelligenceの概要
Microsoft Learnの定義によれば、本サービスは「**ドキュメントからテキスト、レイアウト、キーと値のペアなどを高精度で抽出するためのAIサービス**」です。機械学習モデルを活用し、スキャンしたドキュメントやデジタルPDFから、人間が介在することなく構造化データを生成することができます。

具体的な活用例としては、以下のようなシナリオが挙げられます。

* **請求書処理の自動化**: 支払先、請求額、品目などの情報を自動抽出し、会計システムへ連携
* **IDドキュメントの検証**: 身分証明書やパスポートから個人情報を読み取り、本人確認プロセスを迅速化
* **契約書管理の効率化**: 契約当事者、契約期間、重要条項などを抽出し、データベース化

これらの機能は、手作業によるデータ入力のコストとヒューマンエラーを劇的に削減するポテンシャルを秘めています。

## 検証プロセス①：Freeプランでの初期テスト

サービスの有効性を評価するため、まずは提供されている**Free (F0) プラン**を用いて検証環境を構築しました。Azureポータルからリソースを作成する手順は極めて簡潔で、価格レベルで「Free F0」を選択するだけです。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/9e2b37eb-89e8-4a55-a075-213b6b986c0d.png)

デプロイ完了後、コーディング不要で解析機能を試せる「Document Intelligence Studio」を利用して解析テストを行いました。検証用のドキュメントには、IPAが公開している資料「SEC BOOKS：ITプロジェクトの「見える化」 〜総集編〜」のPDFを使用しました。この資料は数十ページにわたるため、複数ページの認識性能をテストするのに適しています。

https://www.ipa.go.jp/archive/publish/secbooks20081020.html

### 課題の発生：複数ページのPDFで認識範囲が限定される事象

解析結果を確認したところ、予期せぬ事象に直面しました。アップロードした「SEC BOOKS：ITプロジェクトの「見える化」 〜総集編〜」のPDFファイルのうち、**最初の2ページ分しか解析結果に出力されません**でした。

(1ページ目)
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/a012ffa5-b0fa-43a4-8196-6a988dc44dcb.png)

(2ページ目)
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/fb49d7a2-7e6c-422c-956b-6122a436f3f6.png)

(3ページ目)
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/d18e5018-3136-4e13-bde8-4fb75720b3eb.png)

当初はアップロードしたファイルの問題や、一時的なサービスの不具合を疑い、複数回テストを繰り返しました。しかし、何度試行しても3ページ以降が認識されることはありませんでした。この時点では、サービスの評価を正確に行うことが困難な状況でした。

## 原因の特定：Freeプランの仕様と制限事項

問題解決のため、公式ドキュメントを確認した結果、原因はサービスの不具合ではなく、**Freeプランに設けられた仕様**であることが判明しました。

https://learn.microsoft.com/ja-jp/azure/ai-services/document-intelligence/service-limits?view=doc-intel-4.0.0

Microsoftのドキュメントには、価格レベルに関する以下の記述が存在します。
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/91021f94-147b-47ca-b618-8a6ef6f15437.png)


サービスのPoC（Proof of Concept: 概念実証）を行う上で、この制限は極めて重要な情報です。

## 検証プロセス②：Standardプランによる再検証と結果

原因が特定できたため、速やかに**Standard (S0) プラン**で新たなリソースを作成し、再度「SEC BOOKS：ITプロジェクトの「見える化」 〜総集編〜」のPDFを用いて検証を行いました。

結果、今度は資料の全ページが正常に認識されました。これにより、Azure AI Document Intelligenceが持つ本来の性能を正しく評価することが可能となりました。

(3ページ目)
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3963503/fe1f0dee-5281-49e7-8193-7dfb23a41f12.png)

## 結論と考察：プラン選定の重要性と今後の展望

今回の検証から得られた最も重要な知見は、**サービスの機能を評価する際は、利用プランの制限事項を事前に必ず確認すべきである**という点です。

特にFreeプランは、あくまで機能の基本的な動作確認や小規模なテストを目的としたものであり、複数ページにわたるドキュメントを扱う本格的な検証や実運用には適していません。PoCの段階であっても、評価対象の要件に応じて適切なプラン（この場合はStandardプラン）を選択することが、重要な要素となり得ます。

Azure AI Document Intelligenceは、その機能を正しく理解し活用すれば、ドキュメント処理業務を劇的に変革する力を持つ強力なツールです。今後は、請求書や契約書など、より実業務に近いドキュメントを用いた詳細な精度検証を進め、実運用に向けた評価を行っていく予定です。
